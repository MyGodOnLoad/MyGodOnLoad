<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="一名菜鸟的日记本">
    <meta property="og:type" content="website">
    <meta name="description" content="一名菜鸟的日记本">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        Centos7离线部署django项目 - 神秘的张少爷
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="../../../../css/aircloud.css">

    
<link rel="stylesheet" href="../../../../css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>

    
  
  



  



  




  
  
  



  

<meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="atom.xml" title="神秘的张少爷" type="application/atom+xml">
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Stay Hungry，Stay Foolish </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar radius">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>神秘的张少爷</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="../../../../index.html">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            <li >
                <a href="../../../../tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li >
                <a href="../../../../archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>
            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>COLLECT</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>SEARCH</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87"><span class="toc-text">前期准备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BDRPM%E4%BE%9D%E8%B5%96%E5%8C%85"><span class="toc-text">下载RPM依赖包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E9%A1%B9%E7%9B%AE%E4%BE%9D%E8%B5%96"><span class="toc-text">下载项目依赖</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CentOS7"><span class="toc-text">CentOS7</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7"><span class="toc-text">新建用户</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE"><span class="toc-text">网络配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E4%B8%8D%E5%8F%AF%E7%94%A8"><span class="toc-text">网络不可用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85net-tools"><span class="toc-text">安装net-tools</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85"><span class="toc-text">安装依赖包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80"><span class="toc-text">方式一</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85gcc%E7%8E%AF%E5%A2%83"><span class="toc-text">安装gcc环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Python%E7%8E%AF%E5%A2%83%E7%9A%84%E4%BE%9D%E8%B5%96%E9%A1%B9"><span class="toc-text">安装Python环境的依赖项</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C-%EF%BC%88%E6%AD%A5%E9%AA%A4%E4%B8%8D%E5%85%A8%EF%BC%89"><span class="toc-text">方式二 （步骤不全）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85python%E4%BE%9D%E8%B5%96%E5%8C%85"><span class="toc-text">安装python依赖包</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85gcc"><span class="toc-text">安装gcc</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85python"><span class="toc-text">安装python</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E5%8E%8Bpython%E5%AE%89%E8%A3%85%E5%8C%85"><span class="toc-text">解压python安装包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85"><span class="toc-text">编译安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%BD%AF%E8%BF%9E%E6%8E%A5"><span class="toc-text">创建软连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-text">测试</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E4%BE%9D%E8%B5%96"><span class="toc-text">项目依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mysql%E5%AE%89%E8%A3%85"><span class="toc-text">Mysql安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rabbitmq%E5%AE%89%E8%A3%85"><span class="toc-text">Rabbitmq安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#celery"><span class="toc-text">celery</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99"><span class="toc-text">关闭防火墙</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nginx%E5%AE%89%E8%A3%85"><span class="toc-text">nginx安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#nginx%E9%85%8D%E7%BD%AE"><span class="toc-text">nginx配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85coin-cbc"><span class="toc-text">安装coin-cbc</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85"><span class="toc-text">源码安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#coinbrew%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85"><span class="toc-text">coinbrew工具安装</span></a></li></ol></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> Stay Hungry，Stay Foolish </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        Centos7离线部署django项目
    </div>

    <div class="post-meta">
        <span class="attr">Post：<span>2020-06-12 09:43:44</span></span>
        
        <span class="attr">Tags：/
        
        <a class="tag" href="/tags/#Centos" title="Centos">Centos</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#离线部署" title="离线部署">离线部署</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><p>这里是我在部署中用到的一些资源</p>
<p>链接：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1SzVqpHCi60ZEQTFrPFRZiA">https://pan.baidu.com/s/1SzVqpHCi60ZEQTFrPFRZiA</a><br>提取码：9d09 </p>
<h3 id="下载RPM依赖包"><a href="#下载RPM依赖包" class="headerlink" title="下载RPM依赖包"></a>下载RPM依赖包</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载到指定目录（依赖包会一起下载）</span></span><br><span class="line">yum <span class="keyword">install</span> --downloadonly --downloaddir=/root/httpd  (包名)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若downloadonly命令不存在，安装插件</span></span><br><span class="line">yum <span class="keyword">install</span> yum-plugin-downloadonly</span><br></pre></td></tr></table></figure>

<h3 id="下载项目依赖"><a href="#下载项目依赖" class="headerlink" title="下载项目依赖"></a>下载项目依赖</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 在外网环境下载依赖包  packages:存储依赖包的文件夹</span><br><span class="line">pip <span class="keyword">freeze</span> &gt; requirements.txt</span><br><span class="line">pip download -d packages -r requirements.txt  -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"></span><br><span class="line"># 安装项目的python包</span><br><span class="line">pip install <span class="comment">--no-index --find-links=packages -r requirements.txt </span></span><br><span class="line"></span><br><span class="line"># 加入环境变量  使能够使用celery</span><br><span class="line">export <span class="type">PATH</span>=/usr/<span class="keyword">local</span>/python3<span class="number">.6</span>/bin:$<span class="type">PATH</span></span><br></pre></td></tr></table></figure>





<h2 id="CentOS7"><a href="#CentOS7" class="headerlink" title="CentOS7"></a>CentOS7</h2><h4 id="新建用户"><a href="#新建用户" class="headerlink" title="新建用户"></a>新建用户</h4><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">useradd xxx</span><br><span class="line">passwd (用户名)</span><br><span class="line"><span class="meta"># 授权sudo权限</span></span><br><span class="line"><span class="meta"># https:<span class="comment">//blog.csdn.net/abcdad/article/details/93744898</span></span></span><br></pre></td></tr></table></figure>



<h3 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h3><p>ping <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a></p>
<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/akipa11/article/details/81414875">https://blog.csdn.net/akipa11/article/details/81414875</a></p>
<h4 id="网络不可用"><a href="#网络不可用" class="headerlink" title="网络不可用"></a>网络不可用</h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dhclient  <span class="comment"># 自动获取IP地址</span></span><br><span class="line">ip <span class="keyword">addr </span> <span class="comment"># 代替ifconfig</span></span><br><span class="line"><span class="comment"># ping可通</span></span><br></pre></td></tr></table></figure>

<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">将<span class="attribute">ONBOOT</span>=<span class="literal">no</span>改为yes，将BOOTPROTO=dhcp改为BOOTPROTO=static</span><br><span class="line">并在后面增加几行内容：  自行修改ip</span><br><span class="line"><span class="attribute">IPADDR</span>=192.168.127.128</span><br><span class="line"><span class="attribute">NETMASK</span>=255.255.255.0</span><br><span class="line"><span class="attribute">GATEWAY</span>=192.168.127.2</span><br><span class="line"><span class="attribute">DNS1</span>=119.29.29.29</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启网络服务</span></span><br><span class="line">systemctl restart network.service</span><br></pre></td></tr></table></figure>

<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">TYPE</span>=<span class="string">&quot;Ethernet&quot;</span></span><br><span class="line"><span class="attr">PROXY_METHOD</span>=<span class="string">&quot;none&quot;</span></span><br><span class="line"><span class="attr">BROWSER_ONLY</span>=<span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="attr">BOOTPROTO</span>=<span class="string">&quot;none&quot;</span></span><br><span class="line"><span class="attr">DEFROUTE</span>=<span class="string">&quot;yes&quot;</span></span><br><span class="line"><span class="attr">IPV4_FAILURE_FATAL</span>=<span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="attr">IPV6INIT</span>=<span class="string">&quot;yes&quot;</span></span><br><span class="line"><span class="attr">IPV6_AUTOCONF</span>=<span class="string">&quot;yes&quot;</span></span><br><span class="line"><span class="attr">IPV6_DEFROUTE</span>=<span class="string">&quot;yes&quot;</span></span><br><span class="line"><span class="attr">IPV6_FAILURE_FATAL</span>=<span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="attr">IPV6_ADDR_GEN_MODE</span>=<span class="string">&quot;stable-privacy&quot;</span></span><br><span class="line"><span class="attr">NAME</span>=<span class="string">&quot;eth0&quot;</span></span><br><span class="line"><span class="attr">UUID</span>=<span class="string">&quot;dbb5fe6c-c3a3-48dd-a9cf-2ba69b25a4cb&quot;</span></span><br><span class="line"><span class="attr">DEVICE</span>=<span class="string">&quot;eth0&quot;</span></span><br><span class="line"><span class="attr">ONBOOT</span>=<span class="string">&quot;yes&quot;</span></span><br><span class="line"><span class="attr">IPADDR</span>=<span class="string">&quot;172.188.10.171&quot;</span></span><br><span class="line"><span class="attr">PREFIX</span>=<span class="string">&quot;24&quot;</span></span><br><span class="line"><span class="attr">GATEWAY</span>=<span class="string">&quot;172.188.10.254&quot;</span></span><br><span class="line"><span class="attr">DNS1</span>=<span class="string">&quot;172.188.10.211&quot;</span></span><br><span class="line"><span class="attr">DNS2</span>=<span class="string">&quot;192.168.1.1&quot;</span></span><br><span class="line"><span class="attr">IPV6_PRIVACY</span>=<span class="string">&quot;no&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 网卡启动失败：failed to start LSB: Bring up/down networking</span></span><br><span class="line"><span class="params">system</span>ctl stop NetworkManager</span><br><span class="line"><span class="params">system</span>ctl restart network.service</span><br></pre></td></tr></table></figure>





<h4 id="安装net-tools"><a href="#安装net-tools" class="headerlink" title="安装net-tools"></a>安装net-tools</h4><ul>
<li>安装    命令ifconfig  netstat</li>
</ul>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">rpm</span> -ivh net-tools-<span class="number">2</span>.<span class="number">0</span>-<span class="number">0</span>.<span class="number">6</span>.<span class="number">20130109</span>git.fc19.x86_64.rpm</span><br></pre></td></tr></table></figure>



<h2 id="安装依赖包"><a href="#安装依赖包" class="headerlink" title="安装依赖包"></a>安装依赖包</h2><h3 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h3><ul>
<li>资源：Centos_package</li>
</ul>
<h4 id="安装gcc环境"><a href="#安装gcc环境" class="headerlink" title="安装gcc环境"></a>安装gcc环境</h4><ul>
<li>使用命令<code>cd /root/softwares/01-gcc</code>进入gcc文件夹</li>
<li>使用命令<code>rpm -Uvh *.rpm --nodeps --force</code>安装该文件夹下的rpm包</li>
<li>安装完成后，输入命令<code>gcc -v</code>，如果得到gcc的版本表示安装成功</li>
</ul>
<h4 id="安装Python环境的依赖项"><a href="#安装Python环境的依赖项" class="headerlink" title="安装Python环境的依赖项"></a>安装Python环境的依赖项</h4><ul>
<li>使用命令<code>cd /root/softwares/05-python-dependency</code>进入05-python-dependency文件夹</li>
<li>使用命令<code>rpm -Uvh *.rpm --nodeps --force</code>安装该文件夹下的rpm包</li>
</ul>
<h3 id="方式二-（步骤不全）"><a href="#方式二-（步骤不全）" class="headerlink" title="方式二 （步骤不全）"></a>方式二 （步骤不全）</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/LENOVOJXN/article/details/85334530">https://blog.csdn.net/LENOVOJXN/article/details/85334530</a></p>
<h4 id="安装python依赖包"><a href="#安装python依赖包" class="headerlink" title="安装python依赖包"></a>安装python依赖包</h4><h5 id="安装gcc"><a href="#安装gcc" class="headerlink" title="安装gcc"></a>安装gcc</h5><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_28198181/article/details/82978830">https://blog.csdn.net/qq_28198181/article/details/82978830</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yuan_ren_sheng/article/details/81021563">https://blog.csdn.net/yuan_ren_sheng/article/details/81021563</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">tar -zxvf gcc_rpm.tar.gz</span><br><span class="line"><span class="built_in">cd</span> gcc_rpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装所有rpm文件</span></span><br><span class="line"><span class="comment"># 给文件添加x权限 </span></span><br><span class="line"><span class="built_in">chmod</span> u+x install_gcc.sh</span><br><span class="line">sh install_gcc.sh</span><br></pre></td></tr></table></figure>



<h2 id="安装python"><a href="#安装python" class="headerlink" title="安装python"></a>安装python</h2><h5 id="解压python安装包"><a href="#解压python安装包" class="headerlink" title="解压python安装包"></a>解压python安装包</h5><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">tar</span> -xvJf  Python-<span class="number">3</span>.<span class="number">7</span>.<span class="number">0</span>.tar.xz  # 使用python3.<span class="number">6</span></span><br></pre></td></tr></table></figure>

<h5 id="编译安装"><a href="#编译安装" class="headerlink" title="编译安装"></a>编译安装</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /usr/local/python3 <span class="comment"># 创建编译安装目录</span></span><br><span class="line"><span class="built_in">cd</span> Python-3.7.0　　　　　　<span class="comment"># 进入python的解压目录</span></span><br><span class="line">./configure --prefix=/usr/local/python3 --enable-optimizations</span><br><span class="line">make　　　<span class="comment"># 编译</span></span><br><span class="line">make install  <span class="comment"># 安装</span></span><br></pre></td></tr></table></figure>

<h5 id="创建软连接"><a href="#创建软连接" class="headerlink" title="创建软连接"></a>创建软连接</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -s <span class="regexp">/usr/</span>local<span class="regexp">/python3/</span>bin<span class="regexp">/python3 /u</span>sr<span class="regexp">/local/</span>bin/python3</span><br><span class="line">ln -s <span class="regexp">/usr/</span>local<span class="regexp">/python3/</span>bin<span class="regexp">/pip3 /u</span>sr<span class="regexp">/local/</span>bin/pip3</span><br></pre></td></tr></table></figure>

<h5 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h5><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pytho<span class="symbol">n3</span> -V</span><br><span class="line">pip<span class="number">3</span> -V</span><br></pre></td></tr></table></figure>





<h2 id="项目依赖"><a href="#项目依赖" class="headerlink" title="项目依赖"></a>项目依赖</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// pip安装mysqlclient 依赖</span><br><span class="line">rpm -ivh mariadb-devel<span class="number">-5.5</span><span class="number">.65</span><span class="number">-1.</span>el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 在外网环境下载依赖包  packages:存储依赖包的文件夹</span><br><span class="line">pip <span class="keyword">freeze</span> &gt; requirements.txt</span><br><span class="line">pip download -d packages -r requirements.txt</span><br><span class="line"></span><br><span class="line"># 安装项目的python包</span><br><span class="line">pip install <span class="comment">--no-index --find-links=packages -r requirements.txt</span></span><br><span class="line"></span><br><span class="line">export <span class="type">PATH</span>=/usr/<span class="keyword">local</span>/python3<span class="number">.6</span>/bin:$<span class="type">PATH</span></span><br></pre></td></tr></table></figure>



<h2 id="Mysql安装"><a href="#Mysql安装" class="headerlink" title="Mysql安装"></a>Mysql安装</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf mysql-5.7.30-1.el7.x86_64.rpm-bundle.tar</span><br><span class="line"></span><br><span class="line">rpm -Uvh *.rpm --nodeps --force</span><br><span class="line"><span class="comment"># 安装完毕</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置mysql</span></span><br><span class="line"><span class="comment"># 先关闭mysql服务</span><span class="built_in"></span></span><br><span class="line"><span class="built_in">service </span>mysqld stop</span><br><span class="line"><span class="comment"># 修改配置文件</span></span><br><span class="line">vi /etc/my.cnf</span><br><span class="line"></span><br><span class="line"><span class="comment">#---------------------------------------</span></span><br><span class="line"><span class="comment">### Disabling symbolic-links is recommended to prevent assorted security risks</span></span><br><span class="line">skip-grant-tables     #添加这句话，这时候登入mysql就不需要密码</span><br><span class="line"><span class="attribute">symbolic-links</span>=0</span><br><span class="line"><span class="comment">#------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启mysql服务</span><span class="built_in"></span></span><br><span class="line"><span class="built_in">service </span>mysqld start</span><br><span class="line"></span><br><span class="line"><span class="comment"># 无需账号密码登陆</span></span><br><span class="line"><span class="comment"># 设置密码</span></span><br><span class="line">mysql&gt; <span class="built_in">set</span> password <span class="keyword">for</span> root@localhost = password(<span class="string">&#x27;123456&#x27;</span>);</span><br><span class="line"><span class="built_in">ERROR</span> 1290 (HY000): The MySQL<span class="built_in"> server </span>is running with the --skip-grant-tables option so it cannot execute this statement</span><br><span class="line">mysql&gt; flush privileges;  #更新权限</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">mysql&gt; <span class="built_in">set</span> password <span class="keyword">for</span> root@localhost = password(<span class="string">&#x27;123456&#x27;</span>); </span><br><span class="line">Query OK, 0 rows affected, 1 <span class="built_in">warning</span> (0.00 sec)</span><br><span class="line">mysql&gt;flush privileges; #更新权限</span><br><span class="line">mysql&gt;quit; #退出</span><br><span class="line"></span><br><span class="line"><span class="built_in"></span></span><br><span class="line"><span class="built_in">service </span>mysqld stop # 停止mysql服务, 恢复mysql配置</span><br><span class="line"></span><br><span class="line">vim /etc/my.cnf     #修改配置文件</span><br><span class="line"><span class="comment">#------------------------------------------------</span></span><br><span class="line"><span class="comment"># Disabling symbolic-links is recommended to prevent assorted security risks</span></span><br><span class="line"><span class="comment"># skip-grant-tables # 注释掉这句话</span></span><br><span class="line"><span class="attribute">symbolic-links</span>=0</span><br><span class="line"><span class="comment">#---------------------------------------------------</span></span><br><span class="line"><span class="built_in"></span></span><br><span class="line"><span class="built_in">service </span>mysqld start # 启动mysql服务</span><br><span class="line"></span><br><span class="line">mysql -uroot -p # 输入新密码登录</span><br></pre></td></tr></table></figure>



<h2 id="Rabbitmq安装"><a href="#Rabbitmq安装" class="headerlink" title="Rabbitmq安装"></a>Rabbitmq安装</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh *.rpm</span><br><span class="line"><span class="built_in"></span></span><br><span class="line"><span class="built_in">service </span>rabbitmq-server start</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若启动失败</span></span><br><span class="line">systemctl status rabbitmq-server</span><br><span class="line"><span class="comment"># 若报错Failed to start LSB: Enable AMQP service provided by RabbitMQ broker.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 首先 </span></span><br><span class="line">/etc/hostname</span><br><span class="line">&gt; localhost.localdomain</span><br><span class="line">/etc/hosts</span><br><span class="line">添加ip地址  192.168.187.130 localhost localhost.localdomain</span><br><span class="line"></span><br><span class="line"><span class="comment"># 再次启动</span><span class="built_in"></span></span><br><span class="line"><span class="built_in">service </span>rabbitmq-server start</span><br><span class="line"></span><br><span class="line"><span class="comment"># vi /etc/rabbitmq/rabbitmq-env.conf</span></span><br><span class="line"><span class="comment"># 新建文件，并在文件中写一句“NODENAME=rabbit@localhost”，保存就OK啦；</span></span><br><span class="line"><span class="attribute">NODENAME</span>=rabbit@localhost</span><br><span class="line"></span><br><span class="line"><span class="comment"># rabbitmq启动成功后,启动后台管理插件</span></span><br><span class="line">rabbitmq-plugins <span class="built_in">enable</span> rabbitmq_management</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装完后会有很多插件，可以使用</span></span><br><span class="line">rabbitmq-plugins list</span><br></pre></td></tr></table></figure>



<h2 id="celery"><a href="#celery" class="headerlink" title="celery"></a>celery</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=/usr/local/python3.6/bin:<span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line">sudo <span class="built_in">echo</span> <span class="string">&#x27;export PATH=/usr/local/python3.6/bin:$PATH&#x27;</span> &gt;&gt; /etc/profile.d/python3.sh  <span class="comment"># 避免重启丢失</span></span><br></pre></td></tr></table></figure>





<h2 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h2><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line"></span><br><span class="line">/etc/selinux/config</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/2020/06/12/Centos7%E7%A6%BB%E7%BA%BF%E9%83%A8%E7%BD%B2django%E9%A1%B9%E7%9B%AE/index/../../../../%E5%B7%A5%E4%BD%9C/%E8%8B%8F%E5%B7%9E/%E9%83%A8%E7%BD%B2%E8%AE%B0%E5%BD%95.assets/1591934162821.png" alt="1591934162821"></p>
<h2 id="nginx安装"><a href="#nginx安装" class="headerlink" title="nginx安装"></a>nginx安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf nginx-1.14.2.tar.gz</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/nginx/sbin</span><br><span class="line">./nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 浏览器已可访问nginx，打开浏览器访问此机器的 IP，如果浏览器出现 Welcome to nginx! 则表示 Nginx 安装并运行成功</span></span><br></pre></td></tr></table></figure>



<h3 id="nginx配置"><a href="#nginx配置" class="headerlink" title="nginx配置"></a>nginx配置</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">whereis</span> nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入安装目录后</span></span><br><span class="line">vi nginx.conf</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="安装coin-cbc"><a href="#安装coin-cbc" class="headerlink" title="安装coin-cbc"></a>安装coin-cbc</h3><h4 id="源码安装"><a href="#源码安装" class="headerlink" title="源码安装"></a>源码安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 依赖</span></span><br><span class="line">CoinUtils</span><br><span class="line"></span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">若报错coinutiils is not available</span><br><span class="line">解决方法:</span><br><span class="line">	将源码安装的依赖的lib中文件拷贝到/usr/lib64或/usr/lib64/pkgconfig中</span><br></pre></td></tr></table></figure>



<h4 id="coinbrew工具安装"><a href="#coinbrew工具安装" class="headerlink" title="coinbrew工具安装"></a>coinbrew工具安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://www.github.com/coin-or/coinbrew</span><br><span class="line"><span class="built_in">cd</span> coinbrew</span><br><span class="line"><span class="built_in">chmod</span> u+x coinbrew</span><br><span class="line">./coinbrew</span><br></pre></td></tr></table></figure>

<figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\<span class="variable">coinbrew</span> <span class="variable">fetch</span> <span class="function"><span class="title">Ipopt</span>(工具名)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;: /usr/bin/env: &quot;</span>bash\r<span class="string">&quot;: 没有那个文件或目录</span></span><br></pre></td></tr></table></figure>

<p>需要用vim打开sh脚本文件， 重新设置文件的格式</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">：<span class="built_in">set</span> ff 然后回车  再重新设置下文件格式：</span><br><span class="line">：<span class="built_in">set</span> <span class="attribute">ff</span>=unix 然后保存退出</span><br><span class="line">：wq! 回车</span><br></pre></td></tr></table></figure>












        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">donate</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/donate.jpg">
        <p> 感谢您给予的支持 </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        
        <li>
            <a target="_blank" href="https://www.zhihu.com/people/一撇he一捺的生活">
                            <span class="fa-stack fa-lg">
                                 <i class="iconfont icon-zhihu"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank" href="http://weibo.com/3919408003">
                            <span class="fa-stack fa-lg">
                                  <i class="iconfont icon-weibo"></i>
                            </span>
            </a>
        </li>
        

        

        
        <li>
            <a target="_blank"  href="https://github.com/MyGodOnLoad">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="../../../../js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






</html>
